<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce Store - Spring Boot Backend</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõçÔ∏è</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Razorpay Checkout SDK -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-shopping-bag"></i>
                <span>TechStore</span>
            </div>
            <div class="nav-links">
                <button class="nav-btn active" onclick="showSection('products')">
                    <i class="fas fa-box"></i> Products
                </button>
                <button class="nav-btn" onclick="showSection('cart')">
                    <i class="fas fa-shopping-cart"></i> Cart
                    <span id="cart-count" class="badge">0</span>
                </button>
                <button class="nav-btn" onclick="showSection('orders')">
                    <i class="fas fa-receipt"></i> Orders
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- User ID Input (Fixed at top) -->
        <div class="user-section">
            <div class="user-input-group">
                <label for="userId">
                    <i class="fas fa-user"></i> User ID:
                </label>
                <input type="text" id="userId" value="user123" placeholder="Enter User ID">
                <button onclick="loadUserData()" class="btn btn-primary">
                    <i class="fas fa-sync"></i> Refresh
                </button>
            </div>
        </div>

        <!-- Products Section -->
        <section id="products-section" class="section active">
            <div class="section-header">
                <h2><i class="fas fa-box"></i> Products</h2>
                <button onclick="initializeSampleProducts()" class="btn btn-success">
                    <i class="fas fa-database"></i> Load Sample Products
                </button>
            </div>
            
            <div id="products-grid" class="products-grid">
                <!-- Products will be loaded here -->
            </div>
        </section>

        <!-- Cart Section -->
        <section id="cart-section" class="section">
            <div class="section-header">
                <h2><i class="fas fa-shopping-cart"></i> Shopping Cart</h2>
                <button onclick="clearCart()" class="btn btn-danger">
                    <i class="fas fa-trash"></i> Clear Cart
                </button>
            </div>
            
            <div id="cart-items" class="cart-items">
                <!-- Cart items will be loaded here -->
            </div>

            <div class="cart-summary">
                <div class="summary-row">
                    <span>Total Items:</span>
                    <span id="total-items">0</span>
                </div>
                <div class="summary-row total">
                    <span>Total Amount:</span>
                    <span id="total-amount">‚Çπ0.00</span>
                </div>
                <button onclick="createOrder()" class="btn btn-primary btn-large">
                    <i class="fas fa-check-circle"></i> Create Order
                </button>
            </div>
        </section>

        <!-- Orders Section -->
        <section id="orders-section" class="section">
            <div class="section-header">
                <h2><i class="fas fa-receipt"></i> Order History</h2>
                <button onclick="loadOrders()" class="btn btn-primary">
                    <i class="fas fa-sync"></i> Refresh
                </button>
            </div>
            
            <div id="orders-list" class="orders-list">
                <!-- Orders will be loaded here -->
            </div>
        </section>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <h2><i class="fas fa-credit-card"></i> Complete Payment</h2>
            
            <div class="payment-details">
                <div class="detail-row">
                    <span>Order ID:</span>
                    <span id="payment-order-id"></span>
                </div>
                <div class="detail-row">
                    <span>Amount:</span>
                    <span id="payment-amount"></span>
                </div>
            </div>

            <div class="payment-options">
                <button onclick="processPayment()" class="btn btn-success btn-large">
                    <i class="fas fa-credit-card"></i> Proceed to Payment
                </button>
                <p style="text-align: center; color: var(--text-secondary); margin-top: 1rem; font-size: 0.875rem;">
                    <i class="fas fa-shield-alt"></i> Secured by Razorpay
                </p>
            </div>

            <div id="payment-status" class="payment-status"></div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast"></div>

    <script src="app.js"></script>
</body>
</html>
